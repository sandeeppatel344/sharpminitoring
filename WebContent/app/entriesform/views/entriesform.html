<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Entry Form</title>
</head>
<body>


<h1 class="main-heading"><span ng-if="!isshowUpdate">Edit </span> <span ng-if="isshowUpdate">New </span>Entry</h1>

<div class="oaerror warning" ng-hide="isdisabled">Note :<span class="required">*</span>Marked Is Mandatory!</div>


<form name="entryForm">
    <div class="col-md-12 child-info infoo">
        <div class="row">
            <div class="">
                <div class="form-group">
                    <h1 class="main-heading">Entry Details</h1>
                    <!-- <label class="control-label" for="inputLarge">Child Full Name <span class="required">*</span></label> -->
                    <div >
                        <div class="col-md-4">
                            <div class="form-group">
                                <label class="control-label" >Channel<span class="required">*</span></label>
                                <select class="form-control" name="channel" ng-change="getAllProgramList(entryObj.channel);entryObj.language=entryObj.channel.language" ng-model="entryObj.channel" ng-options="channellist as channellist.channel_name for channellist in channelList track by channellist.id" required>
                                    <option selected value="">Please Select Channel</option>
                                </select>

                            </div>
                            <p class="errorMessage" ng-show="(entryForm.channel.$invalid &&isshowmsg)||(entryForm.channel.$invalid &&entryForm.channel.$touched)">
                                Please enter valid Channel.
                            </p>
                        </div>
                        <div class="col-md-4">
                            <div class="form-group">
                                <label class="control-label">Date <span class="required">*</span></label>
                                <!--       <input class="form-control" name="dob"  ng-model="regObj.dob"  type="text" placeholder="Date of birth"  required> -->
                                <input type="text" class=" form-control" name = "entrydate" uib-datepicker-popup="dd/MM/yyyy" max-date="maxDate"
                                       ng-model="entryObj.program_date" is-open = "isOpen" close-text="Close" ng-click="isOpen=true" ng-focus="isOpen=true" required  placeholder="Date"/>
                            </div>
                            <p class="errorMessage" ng-show="(entryForm.entrydate.$invalid &&isshowmsg)||(entryForm.entrydate.$invalid &&entryForm.entrydate.$touched)">
                                Please enter valid date.
                            </p>

                        </div>
                        <div class="col-md-4">
                            <div class="form-group">
                                <label class="control-label" >Program Name<span class="required" >*</span></label>
                                <select class="form-control" name="programname"  ng-model="entryObj.program_name" ng-change="getCategoryForStory(entryObj.program_name)" required>
                                    <option  value="">Please Select Program</option>
                                    <option ng-repeat='program in programlList' value="{{program}}">{{program.program_name}}</option>
                                </select>

                            </div>
                            <p class="errorMessage" ng-show="(entryForm.programname.$invalid &&isshowmsg)||(entryForm.programname.$invalid &&entryForm.programname.$touched)">
                                Please enter valid Program Name.
                            </p>
                        </div>




                    </div>
                </div>
            </div>

        </div>
        <div class="row">
            <div class="col-md-4">
                <div class="form-group">
                    <label class="control-label" >Start Time<span class="required"> *</span></label>
                    <input type="text" class="form-control" ng-model="entryObj.start_time" ng-init="entryObj.start_time='00:00:00'" ng-change="calcilateDuration(entryObj.start_time,entryObj.end_time)" name="starttime" placeholder="Start Time"  required="true">
                </div>
                <p class="errorMessage" ng-show="(entryForm.starttime.$invalid &&isshowmsg)||(entryForm.starttime.$error.maxlength||entryForm.starttime.$invalid&&entryForm.starttime.$touched)||(starth>24&&entryForm.starttime.$touched)||(startm>60&&entryForm.starttime.$touched)||(starts>60&&entryForm.starttime.$touched)">
                    Please enter valid starttime.
                </p>

            </div>
            <div class="col-md-4">
                <div class="form-group">
                    <label class="control-label" >Product Name<span class="required">*</span></label>
                    <select class="form-control" name="productname"  ng-change="getAllSongsList(entryObj.product_name);setplanguageValue(entryObj.product_name)" ng-model="entryObj.product_name"  required>
                        <option  value="">Please Select Product</option>
                        <option ng-repeat='product in productlList' value="{{product}}" >{{product.movie_name}}</option>
                    </select>

                </div>
                <p class="errorMessage" ng-show="(entryForm.productname.$invalid &&isshowmsg)||(entryForm.productname.$invalid &&entryForm.productname.$touched)">
                    Please enter valid Product Name.
                </p>
            </div>
            <div class="col-md-4">
                <div class="form-group">
                    <label class="control-label" >Music Compamy<span class="required">*</span></label>
                    <input type="text" class="form-control" ng-model="entryObj.music_company"  disabled name="musiccompany" placeholder="Music Company"  required="true">

                </div>
                <p class="errorMessage" ng-show="(entryForm.musiccompany.$invalid &&isshowmsg)||(entryForm.musiccompany.$invalid &&entryForm.musiccompany.$touched)">
                    Please enter valid Music Company.
                </p>
            </div>

         </div>
        <div class="row">
            <div class="col-md-4">
                <div class="form-group">
                    <label class="control-label" >Songs<span class="required">*</span></label>
                    <select class="form-control" name="songs"  ng-model="entryObj.songs"  required>
                        <option  value="">Please Select Songs</option>
                        <option ng-repeat='song in songsList' value="{{song.songs}}">{{song.songs}}</option>
                    </select>

                </div>
                <p class="errorMessage" ng-show="(entryForm.songs.$invalid &&isshowmsg)||(entryForm.songs.$invalid&&entryForm.songs.$touched)">
                    Please enter valid songs.
                </p>
            </div>
            <div class="col-md-4">
                <div class="form-group">
                    <label class="control-label" >Channel Usage<span class="required"> *</span></label>
                    <!--<input type="text" class="form-control" ng-model="entryObj.channel_usage"  name="channelusage" placeholder="Channel Usage"  required="true">-->
                    <select class="form-control" ng-model="entryObj.channel_usage"  name="channelusage" required="true">
                        <option value="">Please select Channel Usage</option>
                        <option ng-repeat="cu in channelUsagelist" value="{{cu}}">{{cu}}</option>
                    </select>
                </div>
                <p class="errorMessage" ng-show="(entryForm.channelusage.$invalid &&isshowmsg)||(entryForm.channelusage.$error.maxlength||entryForm.channelusage.$invalid&&entryForm.channelusage.$touched)">
                    Please enter valid channel usage.
                </p>

            </div>
            <div class="col-md-4">
                <div class="form-group">
                    <label class="control-label" >Activity<span class="required">*</span></label>
                    <select class="form-control" name="activity"  ng-model="entryObj.activity"  required>
                        <option  value="">Please Select Activity</option>
                        <option ng-repeat="act in activity" value="{{act}}">{{act}}</option>
                    </select>

                </div>
                <p class="errorMessage" ng-show="(entryForm.activity.$invalid &&isshowmsg)||(entryForm.activity.$error.maxlength||entryForm.activity.$invalid&&entryForm.activity.$touched)">
                    Please enter valid activity.
                </p>
            </div>

            </div>
        <div class="row">
            <div class="col-md-4">
                <div class="form-group">
                    <label class="control-label" >courtesy<span class="required">*</span></label>
                    <input type="text" class="form-control" ng-model="entryObj.courtesy"   name="ecourtesy" placeholder="Courtesy">

                </div>
                <p class="errorMessage" ng-show="(entryForm.ecourtesy.$invalid &&isshowmsg)||(entryForm.ecourtesy.$error.maxlength||entryForm.ecourtesy.$invalid&&entryForm.ecourtesy.$touched)">
                    Please enter valid Courtesy.
                </p>
            </div>
            <div class="col-md-4">
                <div class="form-group">
                    <label class="control-label" >Channel Category <span class="required">*</span></label>
                    <select class="form-control" name="channelcategory"  ng-model="entryObj.category" ng-options="cat.category_name as cat.category_name for cat in channelCategoryList track by cat.id" required>
                        <option selected value="">Please Select Channel Category</option>
                    </select>

                </div>
                <p class="errorMessage" ng-show="(entryForm.channelcategory.$invalid &&isshowmsg)||(entryForm.channelcategory.$invalid&&entryForm.channelcategory.$touched)">
                    Please enter valid Channel Category.
                </p>
            </div>
            <div class="col-md-4">
                <div class="form-group">
                    <label class="control-label" >End Time<span class="required"> *</span></label>
                    <input type="text" class="form-control" ng-model="entryObj.end_time" ng-change="calcilateDuration(entryObj.start_time,entryObj.end_time)" ng-init="entryObj.end_time='00:00:00'" name="endtime" placeholder="End Time"  required="true">
                </div>
                <p class="errorMessage" ng-show="(entryForm.endtime.$invalid &&isshowmsg)||(entryForm.endtime.$error.maxlength||entryForm.endtime.$invalid&&entryForm.endtime.$touched)||(endh>24&&entryForm.starttime.$touched)||(endm>60&&entryForm.starttime.$touched)||(ends>60&&entryForm.starttime.$touched)||endh<starth||endm<startm||ends<starts">
                    Please enter valid endtime.
                </p>

            </div>



        </div>

    <div class="row">
        <div class="col-md-4">
            <div class="form-group">
                <label class="control-label" >Duration<span class="required"> *</span></label>
                <input type="text" class="form-control" ng-model="entryObj.duration"  ng-init="entryObj.duration='00:00:00'" disabled name="duration" placeholder="Duration"  required="true">
            </div>
            <p class="errorMessage" ng-show="(entryForm.duration.$invalid &&isshowmsg)||(entryForm.duration.$error.maxlength||entryForm.duration.$invalid&&entryForm.duration.$touched)">
                Please enter valid duration.
            </p>

        </div>

        <div class="col-md-4">
            <div class="form-group">
                <label class="control-label" >Story<span class="required"> *</span></label>
                <input type="text" class="form-control" ng-model="entryObj.story"  name="story" placeholder="Story" disabled  required="true">
            </div>
            <p class="errorMessage" ng-show="(entryForm.story.$invalid &&isshowmsg)||(entryForm.story.$error.maxlength||entryForm.story.$invalid&&entryForm.story.$touched)">
                Please enter valid story.
            </p>

        </div>


        <div class="col-md-4">
            <div class="form-group">
                <label class="control-label" >Language<span class="required"> *</span></label>
                <input type="text" class="form-control" ng-model="entryObj.language"  name="language" placeholder="Language" disabled  required="true">
            </div>
            <p class="errorMessage" ng-show="(entryForm.language.$invalid &&isshowmsg)||(entryForm.language.$error.maxlength||entryForm.language.$invalid&&entryForm.language.$touched)">
                Please enter valid language.
            </p>

        </div>

    </div>
        <div class="row">
            <div class="col-md-4">
                <div class="form-group">
                    <label class="control-label" >Product Language<span class="required"> *</span></label>
                    <input type="text" class="form-control" ng-model="entryObj.product_language"  name="productlanguage" placeholder="Product Language" disabled  required="true">
                </div>
                <p class="errorMessage" ng-show="(entryForm.productlanguage.$invalid &&isshowmsg)||(entryForm.productlanguage.$error.maxlength||entryForm.productlanguage.$invalid&&entryForm.productlanguage.$touched)">
                    Please enter valid Product language.
                </p>

            </div>
        </div>
        <div class="row">

        </div>
    </div>

    <button class="btn btn-raised btn-primary" ng-click="saveEntry(entryForm.$valid);isshowmsg=true"  ng-if="isshowUpdate">Submit</button><!--ng-show="!isdisabled"-->
    <button class="btn btn-raised btn-primary" ng-click="updateEntry(entryForm.$valid);isshowmsg=true" ng-if="!isshowUpdate">Update</button>


    <button class="btn btn-raised btn-danger" ui-sref="sharpmonitoring.listofentries">Cancel</button>



</form>
</div>

</body>
</html>